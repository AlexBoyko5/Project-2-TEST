import{a as l}from"./assets/vendor-0cb09735.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();async function u(){const e="https://books-backend.p.goit.global/books/category-list",t={method:"GET"};return(await l.get(e,{options:t})).data}const m=document.querySelector(".books-container");document.querySelector(".container-category-one");async function g(e){const t="https://books-backend.p.goit.global/books/category",s=encodeURIComponent(e),c=`${t}?category=${s}`,o={method:"GET",headers:{"Content-Type":"application/json"}};return(await l.get(c,o)).data}async function y(){const e="https://books-backend.p.goit.global/books/top-books",t={method:"GET",headers:{"Content-Type":"application/json"}};return(await l.get(e,t)).data}function f(e){return`<li class="book-item" data-id="${e.id}">
  <img src="${e.book_image}" alt="${e.description}" srcset="${e.book_image}" width="335" height="535" class="book-image">
  <p class="book-title">${e.title}</p>
  <p class="book-author">${e.author}</p>
</li>`}function p(e){return e.map(f).join("")}function h(e,t){const s=`<h3 class="container-category-one">${t}</h3>`+p(e);m.innerHTML=s}function k(e,t){const s='<h2 class="container-title">Best Sellers <span>Book</span></h2>',c=`<h3 class="container-category-all">${t}</h3>`+p(e);m.innerHTML=s+c}async function b(e){try{const t=await g(e);h(t,e)}catch(t){console.error(t)}}async function i(){try{const e=await u();for(const t of e){console.log(`Category: ${t.list_name}`);const s=await y(t.list_name);k(s,t.list_name),console.log("Books:"),console.log(s)}}catch(e){console.error("Error fetching data:",e)}}const L=document.querySelector("#category-list");window.onload=function(){const e=document.getElementById("category-list"),t=document.createElement("li");t.textContent="ALL CATEGORIES",t.id="title",t.addEventListener("click",function(){window.location.href="./index.html"}),e.appendChild(t),u().then(s=>{s.forEach(function(c){const o=document.createElement("p");o.textContent=c.list_name,o.classList.add("p-list"),e.appendChild(o)})}).catch(s=>{console.error("Error fetching data;",s)}),i()};L.addEventListener("click",async e=>{if(e.preventDefault(),e.target.tagName==="P"){const t=e.target.textContent;b(t)}else e.target.id==="title"&&(i(),console.log(i()))});const d=document.getElementById("theme-toggle"),a=document.body;d.addEventListener("change",()=>{d.checked?(a.classList.add("dark"),a.classList.remove("light")):(a.classList.add("light"),a.classList.remove("dark"))});(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),c=document.querySelectorAll(".header-link"),o=()=>{const n=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");const r=n?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[r](document.body)};c.forEach(n=>n.addEventListener("click",o)),t.addEventListener("click",o),s.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))})})();
//# sourceMappingURL=commonHelpers.js.map
