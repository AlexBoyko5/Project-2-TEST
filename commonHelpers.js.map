{"version":3,"file":"commonHelpers.js","sources":["../src/render.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function booksApi() {\n    const BASE_URL = 'https://books-backend.p.goit.global/books/category-list';\n\n    //   const url = ${BASE_URL};\n\n    const options = {\n        method: 'GET',\n    };\n\n    const res = await axios.get(`${BASE_URL}`, options);\n    return res.data;\n}\n\nconsole.log(booksApi());\n\nexport async function booksApibyCategory(category) {\n    const BASE_URL = 'https://books-backend.p.goit.global/books/category';\n\n    const options = {\n        method: 'GET',\n        params: {\n            category: category,\n        },\n    };\n\n    const res = await axios.get(BASE_URL, options);\n    return res.data;\n}\n\nconsole.log(booksApibyCategory('Combined Print and E-Book Nonfiction'));\n","\nimport axios from 'axios';\n\n//!======== Шаг №1 =============================================================\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     const categories = api(); //тут наверное api для категорий\n//     // заполняем/проходим по категориям\n//     categories.forEach(function (category) {\n//         const li = document.createElement('li'); // создаем 'li'\n//         li.textContent = category.list_name; // задаем текст категории\n//         categoryList.appendChild(li); // добавляем елемент в список\n//     });\n// });\n\n//!======== Шаг №2 ====добавл fetch()  ==============================================\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     fetch('https://books-backend.p.goit.global/books/category-list')\n//         .then(response => response.json()) // Преобразование ответа в JSON\n//         .then(categories => { // Проходим по категориям\n//             categories.forEach(function (category) {\n//                 const li = document.createElement('li'); // создаем 'li'\n//                 li.textContent = category.list_name; // задаем текст категории\n//                 categoryList.appendChild(li); // добавляем елемент в список\n//             });\n//         })\n// });\n\n//!======== Шаг №3 ==== меняем fetch() на Axios ==============================================\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     axios.get('https://books-backend.p.goit.global/books/category-list')\n//         .then(response => {\n//             const categories = response.data //днные из ответа\n//             categories.forEach(function (category) {\n//                 const li = document.createElement('li'); // создаем 'li'\n//                 li.textContent = category.list_name; // задаем текст категории\n//                 categoryList.appendChild(li); // добавляем елемент в список\n//             });\n//         })\n//         .catch(error => {\n//             console.error('Error fetching data;', error);\n//         })\n// });\n\n//!======== Шаг №4 ==== берем API из другого файла ==============================================\n// import { booksApi, booksApibyCategory } from './render'; // импорт Api\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     booksApi().then(categories => { // используем функцию booksApi для получения данных\n//         categories.forEach(function (category) {\n//             const li = document.createElement('li'); // создаем 'li'\n//             li.textContent = category.list_name; // задаем текст категории\n//             categoryList.appendChild(li); // добавляем елемент в список\n//         });\n//     })\n//         .catch(error => {\n//             console.error('Error fetching data;', error);\n//         })\n// });\n\n//!======== Шаг №5 ==== названия категорий делаем кнопкой/ссылкой ==============================================\n\n// import { booksApi } from './render'; // импорт Api\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     booksApi().then(categories => {\n//         console.log(categories);\n//         categories.forEach(function (category) {\n//             const li = document.createElement('li');\n//             li.textContent = category.list_name; // задаем текст категории\n//             li.addEventListener('click', function () { // обработчик событий на клик\n//                 document.getElementById('container').innerHTML = ''; //Очищаем контейнер перед отображением новых данных\n//                 booksApibyCategory(category.list_name) // Получаем книги по выбранной категории\n//                     .then(books => { // Получаем книги по выбранной категории\n//                         books.forEach(book => {\n//                             const bookElement = document.createElement('div'); // Создаем элемент для каждой книги\n//                             bookElement.textContent = book.title; // или book.name что у нас в массиве?\n//                             document.getElementById('container').appendChild(bookElement);\n//                         });\n//                     });\n//             });\n\n//             categoryList.appendChild(li);\n//         });\n//     }).catch(error => {\n//         console.error('Error fetching data;', error);\n//     });\n// });\n\n//!======== Шаг №6 ==== меняем <li> на <p> ==============================================\n\nimport { booksApi } from './render';\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const categoryList = document.getElementById(\"category-list\");\n\n    booksApi().then(categories => {\n        categories.forEach(function (category) {\n            const div = document.createElement('div'); // Используем тег div вместо li\n            div.textContent = category.list_name;\n\n            div.addEventListener('click', function () {\n                document.getElementById('container').innerHTML = '';\n\n                booksApibyCategory(category.list_name).then(books => {\n                    books.forEach(book => {\n                        const bookElement = document.createElement('div');\n                        bookElement.textContent = book.title;\n                        document.getElementById('container').appendChild(bookElement);\n                    });\n                });\n            });\n\n            categoryList.appendChild(div);\n        });\n    }).catch(error => {\n        console.error('Error fetching data;', error);\n    });\n});\n"],"names":["booksApi","BASE_URL","options","axios","booksApibyCategory","category","categoryList","categories","div","books","book","bookElement","error"],"mappings":"svBAEO,eAAeA,GAAW,CAC7B,MAAMC,EAAW,0DAIXC,EAAU,CACZ,OAAQ,KAChB,EAGI,OADY,MAAMC,EAAM,IAAI,GAAGF,CAAQ,GAAIC,CAAO,GACvC,IACf,CAEA,QAAQ,IAAIF,EAAQ,CAAE,EAEf,eAAeI,EAAmBC,EAAU,CAC/C,MAAMJ,EAAW,qDAEXC,EAAU,CACZ,OAAQ,MACR,OAAQ,CACJ,SAAUG,CACb,CACT,EAGI,OADY,MAAMF,EAAM,IAAIF,EAAUC,CAAO,GAClC,IACf,CAEA,QAAQ,IAAIE,EAAmB,sCAAsC,CAAC,ECsEtE,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,MAAME,EAAe,SAAS,eAAe,eAAe,EAE5DN,EAAU,EAAC,KAAKO,GAAc,CAC1BA,EAAW,QAAQ,SAAUF,EAAU,CACnC,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,YAAcH,EAAS,UAE3BG,EAAI,iBAAiB,QAAS,UAAY,CACtC,SAAS,eAAe,WAAW,EAAE,UAAY,GAEjD,mBAAmBH,EAAS,SAAS,EAAE,KAAKI,GAAS,CACjDA,EAAM,QAAQC,GAAQ,CAClB,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,YAAcD,EAAK,MAC/B,SAAS,eAAe,WAAW,EAAE,YAAYC,CAAW,CACpF,CAAqB,CACrB,CAAiB,CACjB,CAAa,EAEDL,EAAa,YAAYE,CAAG,CACxC,CAAS,CACT,CAAK,EAAE,MAAMI,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CACnD,CAAK,CACL,CAAC"}