{"version":3,"file":"commonHelpers.js","sources":["../src/render.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function booksApi() {\n    const BASE_URL = 'https://books-backend.p.goit.global/books/category-list';\n\n    //   const url = ${BASE_URL};\n\n    const options = {\n        method: 'GET',\n    };\n\n    const res = await axios.get(`${BASE_URL}`, options);\n    return res.data;\n}\n\nconsole.log(booksApi());\n\nexport async function loadBooks(category) {\n    const BASE_URL = 'https://books-backend.p.goit.global/books/category';\n\n    const options = {\n        method: 'GET',\n        params: {\n            category: category,\n        },\n    };\n\n    const res = await axios.get(BASE_URL, options);\n    return res.data;\n}\n\nconsole.log(loadBooks('Combined Print and E-Book Nonfiction'));","\nimport axios from 'axios';\n\n//!======== Шаг №1 =============================================================\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     const categories = api(); //тут наверное api для категорий\n//     // заполняем/проходим по категориям\n//     categories.forEach(function (category) {\n//         const li = document.createElement('li'); // создаем 'li'\n//         li.textContent = category.list_name; // задаем текст категории\n//         categoryList.appendChild(li); // добавляем елемент в список\n//     });\n// });\n\n//!======== Шаг №2 ====добавл fetch()  ==============================================\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     fetch('https://books-backend.p.goit.global/books/category-list')\n//         .then(response => response.json()) // Преобразование ответа в JSON\n//         .then(categories => { // Проходим по категориям\n//             categories.forEach(function (category) {\n//                 const li = document.createElement('li'); // создаем 'li'\n//                 li.textContent = category.list_name; // задаем текст категории\n//                 categoryList.appendChild(li); // добавляем елемент в список\n//             });\n//         })\n// });\n\n//!======== Шаг №3 ==== меняем fetch() на Axios ==============================================\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     axios.get('https://books-backend.p.goit.global/books/category-list')\n//         .then(response => {\n//             const categories = response.data //днные из ответа\n//             categories.forEach(function (category) {\n//                 const li = document.createElement('li'); // создаем 'li'\n//                 li.textContent = category.list_name; // задаем текст категории\n//                 categoryList.appendChild(li); // добавляем елемент в список\n//             });\n//         })\n//         .catch(error => {\n//             console.error('Error fetching data;', error);\n//         })\n// });\n\n//!======== Шаг №4 ==== берем API из другого файла ==============================================\n// import { booksApi } from './render'; // импорт Api\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     booksApi().then(categories => { // используем функцию booksApi для получения данных\n//         categories.forEach(function (category) {\n//             const li = document.createElement('li'); // создаем 'li'\n//             li.textContent = category.list_name; // задаем текст категории\n//             categoryList.appendChild(li); // добавляем елемент в список\n//         });\n//     })\n//         .catch(error => {\n//             console.error('Error fetching data;', error);\n//         })\n// });\n\n//!======== Шаг №5 ==== названия категорий делаем кнопкой/ссылкой ==============================================\n\n// import { booksApi } from './render'; // импорт Api\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n\n//     const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n//     booksApi().then(categories => {\n//         console.log(categories);\n//         categories.forEach(function (category) {\n//             const li = document.createElement('li');\n//             li.textContent = category.list_name; // задаем текст категории\n//             li.addEventListener('click', function () { // обработчик событий на клик\n//                 document.getElementById('container').innerHTML = ''; //Очищаем контейнер перед отображением новых данных\n//                 booksApibyCategory(category.list_name) // Получаем книги по выбранной категории\n//                     .then(books => { // Получаем книги по выбранной категории\n//                         books.forEach(book => {\n//                             const bookElement = document.createElement('div'); // Создаем элемент для каждой книги\n//                             bookElement.textContent = book.title; // или book.name что у нас в массиве?\n//                             document.getElementById('container').appendChild(bookElement);\n//                         });\n//                     });\n//             });\n\n//             categoryList.appendChild(li);\n//         });\n//     }).catch(error => {\n//         console.error('Error fetching data;', error);\n//     });\n// });\n\n//!======== Шаг №6 ==== меняем <li> на <p> === с комментарием ===========================================\n\n// import { booksApi } from './render';\n\n// document.addEventListener(\"DOMContentLoaded\", function () { // Слушаем событие загрузки DOM\n//     const categoryList = document.getElementById(\"category-list\"); // Получаем элемент списка категорий по его id\n\n//     booksApi().then(categories => { // Вызываем функцию booksApi, которая возвращает промис с категориями\n//         categories.forEach(function (category) { // Проходимся по каждой категории\n//             const paragraph = document.createElement('p'); // Используем тег р вместо li\n//             paragraph.textContent = category.list_name; // Задаем текст элемента р равным названию категории\n\n//             paragraph.addEventListener('click', function () {      // Добавляем обработчик клика на элемент р\n//                 document.getElementById('container').innerHTML = ''; // Очищаем содержимое элемента с id 'container'\n\n//                 booksApibyCategory(category.list_name).then(books => { // Вызываем функцию booksApibyCategory с названием категории в качестве аргумента\n//                     books.forEach(book => { // Перебираем каждую книгу в полученном списке книг\n//                         const bookElement = document.createElement('div'); // Создаем новый элемент div для отображения информации о книге\n//                         bookElement.textContent = book.title; // Задаем текст элемента равным названию книги\n//                         document.getElementById('container').appendChild(bookElement);  // Добавляем созданный элемент div в контейнер с id 'container'\n//                     });\n//                 });\n//             });\n\n//             categoryList.appendChild(paragraph); // Добавляем созданный элемент р в список категорий\n//         });\n//     }).catch(error => {\n//         console.error('Error fetching data;', error);\n//     });\n// });\n\n//!======== Шаг №6 ==== меняем <li> на <p> ===============================================\n\n// import { booksApi } from './render';\n\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\");\n\n//     booksApi().then(categories => {\n//         categories.forEach(function (category) {\n//             const paragraph = document.createElement('p');\n//             paragraph.textContent = category.list_name;\n\n//             paragraph.addEventListener('click', function (event) {\n//                 event.preventDefault();\n//                 document.getElementById('container').innerHTML = '';\n//                 booksApibyCategory(category.list_name).then(books => {\n//                     books.forEach(book => {\n//                         const bookElement = document.createElement('div');\n//                         bookElement.textContent = book.title;\n//                         document.getElementById('container').appendChild(bookElement);\n//                     });\n//                 });\n//             });\n\n//             categoryList.appendChild(paragraph);\n//         });\n//     }).catch(error => {\n//         console.error('Error fetching data;', error);\n//     });\n// });\n\n//!======== Шаг №7 ==== добавл \"ALL CATEGORIES\" в начало списка  ===============================================\n\n// import { booksApi } from './render';\n// //import { loadBooks } from './render';// Внести в проект\n// document.addEventListener(\"DOMContentLoaded\", function () {\n//     const categoryList = document.getElementById(\"category-list\");\n\n//     const title = document.createElement('li');  // Создаем новый элемент 'li' для заголовка\n//     title.textContent = \"ALL CATEGORIES\";\n//     title.id = \"title\"; // присваиваем \"title\" свой id\n//     categoryList.appendChild(title); // Добавляем заголовок в начало списка категорий\n\n//     booksApi().then(categories => {\n//         categories.forEach(function (category) {\n//             const paragraph = document.createElement('p');\n//             paragraph.textContent = category.list_name;\n//             paragraph.id = \"p-list\";\n\n//             paragraph.addEventListener('click', function () {\n//                 document.getElementById('container').innerHTML = '';\n//                 booksApibyCategory(category.list_name).then(books => {\n//                     books.forEach(book => {\n//                         const bookElement = document.createElement('div');\n//                         bookElement.textContent = book.title;\n//                         document.getElementById('container').appendChild(bookElement);\n//                     });\n//                 });\n//             });\n\n//             categoryList.appendChild(paragraph); // Добавляем элемент в список внутри цикла\n//         });\n//     }).catch(error => {\n//         console.error('Error fetching data;', error);\n//     });\n// });\n\n//!======== Шаг №8 ==== замена перв addEventListener на window.onload == отрисовка списка <p> по новому ======================\n\nimport { booksApi } from './render';\nimport { loadBooks } from './render';\nwindow.onload = function () {\n    const categoryList = document.getElementById(\"category-list\"); //сылка на список категорий\n    const title = document.createElement('li');\n    title.textContent = \"ALL CATEGORIES\";\n    title.id = \"title\";\n    categoryList.appendChild(title);\n    booksApi().then(categories => { // Вызываем функцию booksApi, которая возвращает промис с категориями\n        categories.forEach(function (category) { // Проходимся по каждой категории\n            const paragraph = document.createElement('p'); // создаем <p> для кажд элем списка\n            paragraph.textContent = category.list_name;\n            paragraph.id = \"p-list\";\n            categoryList.appendChild(paragraph); // Добавляем элемент в список внутри цикла\n        });\n    }).catch(error => {\n        console.error('Error fetching data;', error);\n    });\n    paragraph.addEventListener('click', loadBooks); //Вызываем функцию loadBooks при клике на элемент\n};\n//!======== Шаг №9 ================================================================================================\n\n"],"names":["booksApi","BASE_URL","options","axios","loadBooks","category","categoryList","title","categories","paragraph","error"],"mappings":"svBAEO,eAAeA,GAAW,CAC7B,MAAMC,EAAW,0DAIXC,EAAU,CACZ,OAAQ,KAChB,EAGI,OADY,MAAMC,EAAM,IAAI,GAAGF,CAAQ,GAAIC,CAAO,GACvC,IACf,CAEA,QAAQ,IAAIF,EAAQ,CAAE,EAEf,eAAeI,EAAUC,EAAU,CACtC,MAAMJ,EAAW,qDAEXC,EAAU,CACZ,OAAQ,MACR,OAAQ,CACJ,SAAUG,CACb,CACT,EAGI,OADY,MAAMF,EAAM,IAAIF,EAAUC,CAAO,GAClC,IACf,CAEA,QAAQ,IAAIE,EAAU,sCAAsC,CAAC,ECwK7D,OAAO,OAAS,UAAY,CACxB,MAAME,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAQ,SAAS,cAAc,IAAI,EACzCA,EAAM,YAAc,iBACpBA,EAAM,GAAK,QACXD,EAAa,YAAYC,CAAK,EAC9BP,EAAU,EAAC,KAAKQ,GAAc,CAC1BA,EAAW,QAAQ,SAAUH,EAAU,CACnC,MAAMI,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,YAAcJ,EAAS,UACjCI,EAAU,GAAK,SACfH,EAAa,YAAYG,CAAS,CAC9C,CAAS,CACT,CAAK,EAAE,MAAMC,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CACnD,CAAK,EACD,UAAU,iBAAiB,QAASN,CAAS,CACjD,EACA;"}